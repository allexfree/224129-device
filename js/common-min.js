"use strict";for(var target,map,placeMarker,htmlBlock,ESC_KEYCODE=27,menuDropdown=document.querySelector(".main-menu__dropdown"),linksFocused=menuDropdown.querySelectorAll(".main-menu__dropdown-item a"),mapLink=document.querySelector(".contacts__map"),contactLink=document.querySelector(".contacts__link"),mapModalOverlay=document.querySelector(".map-popup-overlay"),formModalOverlay=document.querySelector(".form-popup-overlay"),inputUserName=formModalOverlay.querySelector("#name-user"),inputUserMail=formModalOverlay.querySelector("#mail-user"),formUserText=formModalOverlay.querySelector("#text-user"),formSubmitBtn=formModalOverlay.querySelector(".popup-form__btn"),btnCloseMap=mapModalOverlay.querySelector(".close-btn"),btnCloseForm=formModalOverlay.querySelector(".close-btn"),i=0;i<linksFocused.length;i++)linksFocused[i].onfocus=function(){menuDropdown.setAttribute("style","visibility: visible; opacity: 1")},linksFocused[i].onblur=function(){menuDropdown.setAttribute("style","")};var mapLinkClickHandler=function(e){e.preventDefault(),mapModalOverlay.classList.remove("hidden")},contactLinkClickHandler=function(e){e.preventDefault(),formModalOverlay.classList.remove("hidden")},btnCloseClickHandler=function(){mapModalOverlay.classList.add("hidden"),mapModalOverlay.removeAttribute("style"),formModalOverlay.classList.add("hidden"),formModalOverlay.removeAttribute("style"),inputUserMail.removeAttribute("style")},escPressHandler=function(e){e.keyCode===ESC_KEYCODE&&e.target!==inputUserName&&e.target!==inputUserMail&&e.target!==formUserText&&(mapModalOverlay.classList.add("hidden"),formModalOverlay.classList.add("hidden"),inputUserMail.removeAttribute("style"))},btnSubmitClickHandler=function(e){(target=e.target)===formSubmitBtn&&""===inputUserMail.value&&inputUserMail.setAttribute("style","background-color: #f6dada; outline: none")};function init(){(map=new ymaps.Map("ya-map",{center:[55.68697956906804,37.52965449999998],zoom:17,controls:[]})).behaviors.disable("scrollZoom"),map.controls.add("zoomControl",{position:{top:185,right:35}}),placeMarker=new ymaps.Placemark([55.68697956906804,37.52965449999998],{baloonContent:htmlBlock},{iconLayout:"default#image",iconImageHref:"../img/map-pointer.svg",iconImageSize:[100,100],iconImageOffset:[-45,-90]}),map.geoObjects.add(placeMarker)}mapLink.addEventListener("click",mapLinkClickHandler),contactLink.addEventListener("click",contactLinkClickHandler),formModalOverlay.addEventListener("click",btnSubmitClickHandler),btnCloseMap.addEventListener("click",btnCloseClickHandler),btnCloseForm.addEventListener("click",btnCloseClickHandler),document.addEventListener("keydown",escPressHandler),ymaps.ready(init);